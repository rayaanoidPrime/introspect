(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{1060:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(8017),s=r(4109),l=r(1364),o=r(3492),i=r(4509),n=r(8532);let c=()=>{let[e,t]=(0,s.useState)(""),[r,c]=(0,s.useState)(!0),d=(0,l.useRouter)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("defogUser"),r=localStorage.getItem("defogToken"),a=localStorage.getItem("defogUserType");if(!e||!r||!a){d.push("/log-in");return}t(a),c(!1),"admin"===a.toLowerCase()?(console.log("redirecting to extract metadata.."),d.push("/extract-metadata")):(console.log("redirecting to reports.."),d.push("/reports"))},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{}),(0,a.jsx)(i.A,{userType:e,children:(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 p-10 bg-white dark:bg-gray-800 rounded-xl shadow-md",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-3xl font-semibold text-gray-900 dark:text-white mb-4",children:"Welcome to Defog!"}),(0,a.jsxs)("h3",{className:"text-lg text-gray-700 dark:text-gray-300",children:["Please wait while we log you in and redirect you to the right page... ",(0,a.jsx)(n.c5,{})]})]}),r&&(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})})]})}},3492:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(8017),s=r(7799),l=r.n(s);let o=()=>(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,a.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},4509:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(8017),s=r(4109),l=r(1364),o=r(8532),i=r(3635),n=r(2074);let c=e=>{let{id:t,userType:r,children:c,rootClassNames:d="",contentClassNames:m="max-h-full h-full",containerClassNames:g="flex flex-col md:min-h-screen relative container mx-auto"}=e,[h,x]=(0,s.useState)([]),u=(0,l.useRouter)(),f=e=>{u.push(e)},p=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),f("/log-in")},y=(0,i.usePathname)();return(0,s.useEffect)(()=>{let e=[];x(("ADMIN"==r?[{title:"Admin",href:"#!",children:[{key:"manage-database",title:"Manage Database",href:"/extract-metadata"},{key:"manage-users",title:"Manage Users",href:"/manage-users"},{key:"align-model",title:"Align Model",href:"/align-model"}]},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:r?[{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:[]).map(e=>(e.current=e.href==y,e)).map(e=>(e.children&&(e.children=e.children.map(e=>(e.current=e.href==y,e))),e)))},[r]),(0,a.jsxs)("div",{className:(0,n.QP)(g,d),children:[h.length?(0,a.jsx)(o.jq,{rootClassNames:(0,n.QP)("border-b dark:border-dark-border","bg-white dark:bg-dark-bg-primary","text-primary-text dark:text-dark-text-primary"),items:h.map(e=>({...e,classNames:(0,n.QP)(e.classNames,"hover:bg-gray-100 dark:hover:bg-dark-hover",e.current&&"bg-gray-100 dark:bg-dark-hover")}))}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:m,children:c})]})}},7067:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1060)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[241,636,593,792],()=>t(7067)),_N_E=e.O()}]);