(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{4425:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/log-in",function(){return r(554)}])},2427:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5105),s=r(761),l=r.n(s);let o=()=>(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,a.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},2678:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(5105),s=r(8101),l=r(5922),o=r(7280),n=r(5337),i=r(4799);let d=e=>{let{id:t,userType:r,children:d,rootClassNames:c="",contentClassNames:m="max-h-full h-full",containerClassNames:u="flex flex-col md:min-h-screen relative container mx-auto"}=e,[g,x]=(0,s.useState)([]),f=(0,l.useRouter)(),h=e=>{f.push(e)},p=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),h("/log-in")},y=(0,n.usePathname)();return(0,s.useEffect)(()=>{x(("admin"==r?[{title:"Admin",href:"#!",children:[{key:"manage-database",title:"Manage Database",href:"/extract-metadata"},{key:"align-model",title:"Align Model",href:"/align-model"}]},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:r?[{key:"query-data",title:"Query Data",href:"/query-data"},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:[]).map(e=>(e.current=e.href==y,e)).map(e=>(e.children&&(e.children=e.children.map(e=>(e.current=e.href==y,e))),e)))},[r]),(0,a.jsxs)("div",{className:(0,i.QP)(u,c),children:[g.length?(0,a.jsx)(o.jq,{rootClassNames:(0,i.QP)("border-b dark:border-dark-border","bg-white dark:bg-dark-bg-primary","text-primary-text dark:text-dark-text-primary"),items:g.map(e=>({...e,classNames:(0,i.QP)(e.classNames,"hover:bg-gray-100 dark:hover:bg-dark-hover",e.current&&"bg-gray-100 dark:bg-dark-hover")}))}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:m,children:d})]})}},554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(5105),s=r(8101),l=r(5922),o=r(2427),n=r(9175),i=r(2678);(0,s.createContext)(null),r(9157);var d=r(7280),c=r(6485);let m=()=>{let[e,t]=(0,s.useContext)(n.R),r=(0,l.useRouter)(),m=(0,s.useContext)(d.oS),[u,g]=(0,s.useState)(""),[x,f]=(0,s.useState)("");(0,s.useEffect)(()=>{localStorage.removeItem("analysisTrees"),localStorage.removeItem("analyseDataResults"),r.query.message&&(g(r.query.message),m.info(r.query.message)),r.query.returnUrl&&f(r.query.returnUrl.toString())},[r.query,m]);let h=async e=>{e.preventDefault();let a=Object.fromEntries(new FormData(e.target)),s=(c.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")+"/login",l=await fetch(s,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}),o=await l.json();"success"===o.status?(t({user:a.username,token:o.token,userType:o.user_type}),localStorage.setItem("defogUser",a.username),localStorage.setItem("defogToken",o.token),localStorage.setItem("defogUserType",o.user_type),r.push(x||"/reports")):m.error("Login failed. Please contact your administrator.")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{}),(0,a.jsx)(i.A,{children:(0,a.jsxs)("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 mt-16",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsx)("img",{alt:"Defog.ai",src:"/logo512.png",className:"mx-auto h-10 w-auto"}),(0,a.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900 dark:text-dark-text-primary",children:"Defog Introspect (default credentials are auto filled in)"}),u&&(0,a.jsx)("div",{className:"mt-4 text-center text-sm text-red-600 dark:text-red-400",children:u})]}),(0,a.jsx)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-dark-text-primary",children:"Username"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{id:"username",name:"username",type:"text",defaultValue:"admin",required:!0,autoComplete:"username",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-dark-border dark:bg-dark-bg-secondary placeholder:text-gray-400 dark:placeholder:text-gray-600 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900 dark:text-dark-text-primary",children:"Password"})}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md border-0 py-1.5 text-gray-900 dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-dark-border dark:bg-dark-bg-secondary placeholder:text-gray-400 dark:placeholder:text-gray-600 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",defaultValue:"admin"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-blue-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 dark:bg-blue-700 dark:hover:bg-blue-600",children:"Sign in"})})]})})]})})]})}},9157:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(6485);let s=(e,t)=>{if("http"!==e&&"ws"!==e)throw Error("Protocol not supported");return""!==t?"ws"===e?"".concat((a.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"").replace("http","ws"),"/").concat(t):"".concat(a.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"","/").concat(t):"".concat(a.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")}}},e=>{var t=t=>e(e.s=t);e.O(0,[894,636,593,792],()=>t(4425)),_N_E=e.O()}]);