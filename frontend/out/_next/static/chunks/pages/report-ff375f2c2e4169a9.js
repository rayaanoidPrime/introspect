(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{1085:(e,t,s)=>{e.exports=s(9539)},1224:(e,t,s)=>{"use strict";s.d(t,{A5:()=>r.a,XV:()=>n});var r=s(5789),a=s(8732),i=s(4109);function n({apiEndpoint:e,publicUuid:t}){let[s,n]=(0,i.useState)(null),[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)([]),[x,m]=(0,i.useState)(""),[p,u]=(0,i.useState)(null),[h,j]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{t&&(async()=>{try{j(!0),console.log("Fetching public report with UUID:",t);let s="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?`/api/oracle/public/report/${t}`:`${e}/oracle/public/report/${t}`;console.log("Fetching from URL:",s);let a=await fetch(s,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(!a.ok){let e=await a.text();throw console.error("Response error:",e),Error(`Failed to fetch report: ${a.status} ${a.statusText}`)}let i=await a.json();console.log("Report data received:",i);let o=i.report;if(!o)throw Error("Invalid report format received");o.mdx&&(n(o.mdx),(0,r.p)(o.mdx)),o.report_content_with_citations&&l(o.report_content_with_citations),o.analyses&&(console.log("Setting analyses:",o.analyses),d(o.analyses)),m(o.report_name||"Report")}catch(e){console.error("Error fetching report:",e),u(e.message||String(e))}finally{j(!1)}})()},[e,t]),h)?a.j.jsx("div",{className:"flex items-center justify-center h-screen",children:a.j.jsx("div",{className:"w-12 h-12 border-t-4 border-blue-500 border-solid rounded-full animate-spin"})}):p?a.j.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center p-4",children:[a.j.jsx("div",{className:"text-red-500 text-2xl mb-2",children:"Error"}),a.j.jsx("div",{className:"text-gray-700 dark:text-gray-300",children:p})]}):a.j.jsxs("div",{className:"relative overflow-auto bg-white dark:bg-gray-900 min-h-screen",children:[a.j.jsxs("div",{className:"bg-white dark:bg-gray-900 shadow-sm mb-4 py-4 px-6",children:[a.j.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-gray-100",children:x}),a.j.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Public Report"})]}),a.j.jsx(r.O.Provider,{value:{apiEndpoint:e,tables:{},multiTables:{},images:{},analyses:c||[],executiveSummary:{title:x,introduction:"",recommendations:[]},reportId:"public",projectName:"public",token:"",commentManager:{subscribeToCommentUpdates:()=>()=>{},getComments:()=>[],updateComments:()=>{}},isLoading:!1,setIsLoading:()=>{}},children:a.j.jsx("div",{className:"relative oracle-report-ctr w-full",children:o&&o.length>0?a.j.jsx("div",{className:"w-full max-w-none sm:max-w-3xl lg:max-w-4xl xl:max-w-5xl 2xl:max-w-6xl mx-auto py-2 px-2 sm:px-4 md:px-6 mb-12 md:mb-0",children:a.j.jsx(r.R,{citations:o})}):a.j.jsx(r.E,{extensions:r.e,content:s,immediatelyRender:!1,editable:!1,editorProps:{attributes:{class:"w-full max-w-none sm:max-w-3xl lg:max-w-4xl xl:max-w-5xl 2xl:max-w-6xl oracle-report-tiptap relative prose prose-base dark:prose-invert mx-auto py-2 px-2 sm:px-4 md:px-6 mb-12 md:mb-0 focus:outline-none *:cursor-default"}}})})})]})}s(446)},1326:(e,t,s)=>{e.exports=s(9510)},2870:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/report",function(){return s(7519)}])},5183:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(8017),a=s(1326),i=s.n(a);let n=()=>(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,r.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},7519:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(8017),a=s(4109),i=s(1224),n=s(1085),o=s(5183),l=s(694),c=s(9678);function d(){let e=(0,n.useRouter)(),{id:t}=e.query,[s,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{e.isReady&&d(!1)},[e.isReady]),s||!t)?(0,r.jsxs)("div",{className:"h-screen flex items-center justify-center",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)(l.c5,{})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)(i.XV,{apiEndpoint:c.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"",publicUuid:t})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[680,718,636,593,792],()=>t(2870)),_N_E=e.O()}]);