(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{1503:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return t(9979)}])},3492:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(8017),s=t(7799),o=t.n(s);let n=()=>(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Defog.ai - AI Assistant for Data Analysis"}),(0,r.jsx)("meta",{name:"description",content:"Train your AI data assistant on your own device"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]})},4509:(e,a,t)=>{"use strict";t.d(a,{A:()=>c});var r=t(8017),s=t(4109),o=t(1364),n=t(4815),l=t(3635),i=t(2074);let c=e=>{let{id:a,userType:t,children:c,rootClassNames:d="",contentClassNames:m="max-h-full h-full",containerClassNames:f="flex flex-col md:min-h-screen relative container mx-auto"}=e,[h,g]=(0,s.useState)([]),u=(0,o.useRouter)(),x=e=>{u.push(e)},p=()=>{localStorage.removeItem("defogUser"),localStorage.removeItem("defogToken"),localStorage.removeItem("defogUserType"),x("/log-in")},k=(0,l.usePathname)();return(0,s.useEffect)(()=>{let e=[];g(("ADMIN"==t?[{title:"Admin",href:"#!",children:[{key:"manage-database",title:"Manage Database",href:"/extract-metadata"},{key:"manage-users",title:"Manage Users",href:"/manage-users"},{key:"align-model",title:"Align Model",href:"/align-model"}]},{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:t?[{key:"reports",title:"Reports",href:"/reports"},{key:"logout",classNames:"self-end",title:"Logout",href:"#",onClick:p}]:[]).map(e=>(e.current=e.href==k,e)).map(e=>(e.children&&(e.children=e.children.map(e=>(e.current=e.href==k,e))),e)))},[t]),(0,r.jsxs)("div",{className:(0,i.QP)(f,d),children:[h.length?(0,r.jsx)(n.jq,{rootClassNames:(0,i.QP)("border-b dark:border-dark-border","bg-white dark:bg-dark-bg-primary","text-primary-text dark:text-dark-text-primary"),items:h.map(e=>({...e,classNames:(0,i.QP)(e.classNames,"hover:bg-gray-100 dark:hover:bg-dark-hover",e.current&&"bg-gray-100 dark:bg-dark-hover")}))}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("div",{className:m,children:c})]})}},9979:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var r=t(8017),s=t(4109),o=t(8688),n=t(4509),l=t(3492),i=t(4815),c=t(1364),d=t(7015);function m(){let e=(0,c.useRouter)(),[a,t]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),[h,g]=(0,s.useState)([]),[u,x]=(0,s.useState)(!0),p=async()=>{let e=localStorage.getItem("defogToken")||"4adaf64ff68cd84fb8f3aa6366812cb8aa20a8cd8d1abd156d15d578bea6680a";if(!e){x(!1);return}try{let a=await fetch((d.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"")+"/get_db_names",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})});if(!a.ok)throw Error("Failed to get api key names - are you sure your network is working?");let t=await a.json();g(t.db_names)}catch(e){console.error("Error fetching db names:",e)}finally{x(!1)}};return((0,s.useEffect)(()=>{let a=localStorage.getItem("defogToken")||"4adaf64ff68cd84fb8f3aa6366812cb8aa20a8cd8d1abd156d15d578bea6680a",r=localStorage.getItem("defogUserType");a?(f(r),t(a),p()):setTimeout(()=>{let a=window.location.pathname+window.location.search;e.push({pathname:"/log-in",query:{message:"You are not logged in. Please log in to access reports.",returnUrl:a}})},1500)},[e]),a||u)?!0===u?(0,r.jsx)(i.c5,{}):(0,r.jsxs)("div",{className:"h-screen",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)(n.A,{id:"query-data",userType:m,containerClassNames:"max-h-screen h-screen flex flex-col",contentClassNames:"h-full max-h-full",children:(0,r.jsx)(o.O,{apiEndpoint:d.env.NEXT_PUBLIC_AGENTS_ENDPOINT||"",token:a,initialProjectNames:h})})]}):(0,r.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("div",{className:"text-center p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Not Logged In"}),(0,r.jsx)("p",{className:"mb-4",children:"You are not logged in. Redirecting to login page..."}),(0,r.jsx)(i.c5,{})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[820,241,115,636,593,792],()=>a(1503)),_N_E=e.O()}]);